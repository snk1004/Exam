(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15f81144"],{1171:function(t,e,i){},"1bcc":function(t,e,i){var s=i("4f1d"),n=i("fdb5"),a=i("5f84").f;t.exports=function(t){return function(e){var i,l=n(e),r=s(l),c=r.length,u=0,o=[];while(c>u)a.call(l,i=r[u++])&&o.push(t?[i,l[i]]:l[i]);return o}}},"56f9":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"examlist"},[i("h3",[t._v("\n      试卷列表\n    ")]),t._v(" "),i("div",{staticClass:"ant-layout-top"},[i("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[i("el-form-item",{attrs:{label:"考试类型"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.healeType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.examTypes,function(t){return i("el-option",{key:t.exam_name,attrs:{label:t.exam_name,value:t.exam_name}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:"课程"}},[i("el-select",{attrs:{placeholder:"请选择"},on:{change:t.healeCourses},model:{value:t.course,callback:function(e){t.course=e},expression:"course"}},t._l(t.courses,function(t){return i("el-option",{key:t.subject_text,attrs:{label:t.subject_text,value:t.subject_text}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{size:"medium"}},[i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),i("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.ExportExcel}},[t._v("导出表格")])],1)],1)],1),t._v(" "),i("div",{staticClass:"ant-layout-content"},[i("div",{staticClass:"style_container__2hI6B"},[i("div",{staticClass:"style_tool__31xLZ"},[i("h4",[t._v("试卷列表")]),t._v(" "),i("div",t._l(t.timer,function(e,s){return i("span",{key:e.id,class:t.TimerIndex==s?"active":null,on:{click:function(e){return t.headleTimer(s)}}},[t._v(t._s(e.title))])}),0)])]),t._v(" "),i("div",{staticClass:"ant-table-body"},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[i("el-table-column",{staticStyle:{width:"2.0em"},attrs:{label:"试卷信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("p",{staticClass:"examName"},[i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.row.title))])]),t._v(" "),i("p",{staticClass:"examMass"},[i("span",[t._v("考试时间:"+t._s(e.row.number))]),t._v(" "),i("span",[t._v(t._s(e.row.number)+"道题")]),t._v(" "),i("span",[t._v("作弊"+t._s(e.row.status))])])]}}])}),t._v(" "),i("el-table-column",{staticStyle:{width:"3em"},attrs:{label:"班级"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[i("p",[t._v("考试班级")]),t._v(" "),i("p",t._l(e.row.grade_name,function(e,s){return i("span",{key:s},[t._v(t._s(e))])}),0)])]}}])}),t._v(" "),i("el-table-column",{staticStyle:{width:"1.5em"},attrs:{label:"创始人"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("p",[t._v("\n                "+t._s(e.row.user_name)+"\n              ")])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"开始时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s(e.row.start_time))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"结束时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v(" "+t._s(e.row.start_time))])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return t.handleEdit(e.$index,e.row.exam_exam_id)}}},[t._v("详情")])]}}])})],1)],1),t._v(" "),i("div",{staticClass:"pagetion"},[i("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.listMist.length,"page-size":t.limit,"current-page":t.dftPage},on:{"update:currentPage":function(e){t.dftPage=e},"update:current-page":function(e){t.dftPage=e},"current-change":t.handleCurrentChange}})],1)])])},n=[],a=i("997e"),l=i.n(a),r=i("cc80"),c=i.n(r),u=i("8893"),o=i.n(u),m=i("3f47"),d=i("52c1"),f=i("6bf2"),_=i.n(f),h=[{title:"全部",id:1},{title:"进行中",id:2},{title:"已完成",id:3}],p={data:function(){return{timer:h,courses:[],course:"",examTypes:[],examLists:[],type:"",TimerIndex:0,typeId:"",coursesId:"",list:[],dftPage:1,limit:10,listMist:[]}},mounted:function(){this.getList()},methods:Object(m["a"])({},Object(d["b"])({subject:"examList/subject",examType:"examList/examType",examList:"examList/examList",detailExam:"examList/detailExam"}),{healeType:function(t){var e=this,i=t;this.examTypes.map(function(t){t.exam_name===i&&(e.typeId=t.exam_id)})},healeCourses:function(t){var e=this,i=t;this.courses.map(function(t){t.subject_text===i&&(e.coursesId=t.subject_id)})},onSubmit:function(){var t=this;""!==this.type&&""!==this.course&&(this.listMist=this.examLists.filter(function(e){if(e.exam_id===t.typeId&&e.subject_id===t.coursesId)return e}),this.list=this.listMist.slice(0,this.limit))},ExportExcel:function(){var t=this.list.map(function(t){return{"考试信息":t.title,"考试名称":t.exam_name,"出题人":t.user_name,"考试科目":t.subject_text,"开始时间":t.start_time,"结束时间":t.end_time}}),e=t.map(function(t){var e=o()(t);return e.map(function(t){return c()(t)})}),s=l()(t[0]);Promise.all([i.e("chunk-67892828"),i.e("chunk-4b7d1994"),i.e("chunk-58293907")]).then(i.bind(null,"4bf8d")).then(function(t){t.export_json_to_excel({header:s,data:e,filename:"考试列表",bookType:"xlsx"})})},headleTimer:function(t){this.TimerIndex=t;var e=1e3*_()().unix();2==this.TimerIndex?(this.listMist=this.examLists.filter(function(t){var i=1e3*_()(t.end_time).unix();if(i<e)return t}),this.list=this.listMist.slice(0,this.limit)):1===this.TimerIndex?(this.listMist=this.examLists.filter(function(t){var i=1e3*_()(t.end_time).unix(),s=1e3*_()(t.start_time).unix();if(i>e&&s<e)return t}),this.list=this.listMist.slice(0,this.limit)):(this.listMist=this.examLists,this.list=this.listMist.slice(0,this.limit))},handleCurrentChange:function(t){this.list=this.listMist.slice(this.limit*(t-1),this.limit*t)},getList:function(){var t=this;this.examType().then(function(e){1===e.code&&(t.examTypes=e.data)}),this.subject().then(function(e){1===e.code&&(t.courses=e.data)}),this.examList().then(function(e){1===e.code&&(e.exam.map(function(t){t.start_time=_()(1*t.start_time).format("YYYY-MM-DD HH:MM:SS"),t.end_time=_()(1*t.end_time).format("YYYY-MM-DD HH:MM:SS")}),t.examLists=e.exam,t.listMist=e.exam,t.list=t.listMist.slice(0,t.limit))})},handleEdit:function(t,e){this.$router.push({path:"/examination/detail",query:{id:e}})}})},x=p,v=(i("b5e7"),i("17cc")),b=Object(v["a"])(x,s,n,!1,null,"35096c82",null);e["default"]=b.exports},"7e8e":function(t,e,i){var s=i("471d"),n=i("1bcc")(!1);s(s.S,"Object",{values:function(t){return n(t)}})},8893:function(t,e,i){t.exports=i("9e59")},"9e59":function(t,e,i){i("7e8e"),t.exports=i("836e").Object.values},b5e7:function(t,e,i){"use strict";var s=i("1171"),n=i.n(s);n.a}}]);