(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-616c66d0"],{"16d8":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:e.id}})},n=[],a=s("3f47"),u=s("208e"),o=s.n(u),l=(s("e5d4"),s("550e"),s("233f"),s("d341")),r=s.n(l),c={minHeight:"200px",previewStyle:"vertical",useCommandShortcut:!1,useDefaultHTMLSanitizer:!1,usageStatistics:!0,hideModeSwitch:!0,toolbarItems:["heading","bold","italic","strike","divider","hr","quote","divider","ul","ol","task","indent","outdent","divider","table","image","link","divider","code","codeblock"]},d={name:"MarddownEditor",props:{value:{type:String,default:""},id:{type:String,required:!1,default:function(){return"markdown-editor-"+ +new Date+(1e3*Math.random()).toFixed(0)}},options:{type:Object,default:function(){return c}},mode:{type:String,default:"wysiwyg"},language:{type:String,required:!1,default:"en_US"}},data:function(){return{editor:null}},computed:{editorOptions:function(){var e=o()({},c,this.options);return e.initialEditType=this.mode,e.height=this.height,e.language=this.language,e}},watch:{value:function(e,t){e!==t&&e!==this.editor.getValue()&&this.editor.setValue(e)},language:function(e){this.destroyEditor(),this.initEditor()},height:function(e){this.editor.height(e)},mode:function(e){this.editor.changeMode(e)}},mounted:function(){this.initEditor()},destroyed:function(){this.destroyEditor()},methods:{initEditor:function(){var e=this;this.editor=new r.a(Object(a["a"])({el:document.getElementById(this.id)},this.editorOptions)),this.value&&this.editor.setValue(this.value),this.editor.on("change",function(){e.$emit("input",e.editor.getValue())})},destroyEditor:function(){this.editor&&(this.editor.off("change"),this.editor.remove())},setValue:function(e){this.editor.setValue(e)},getValue:function(){return this.editor.getValue()},setHtml:function(e){this.editor.setHtml(e)},getHtml:function(){return this.editor.getHtml()}}},h=d,m=s("17cc"),v=Object(m["a"])(h,i,n,!1,null,null,null);t["a"]=v.exports},a19e:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tinymce-container editor-container"},[s("p",{staticClass:"addtest"},[e._v(e._s(e.title))]),e._v(" "),s("div",{staticClass:"contentbox"},[s("p",{staticClass:"testmesg"},[e._v("题目信息")]),e._v(" "),s("p",[e._v("题干")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.queststem,expression:"queststem"}],staticClass:"topic",attrs:{type:"text",placeholder:"请输入题目要求，不超过20个字"},domProps:{value:e.queststem},on:{input:function(t){t.target.composing||(e.queststem=t.target.value)}}}),e._v(" "),s("p",[e._v("题目主题")]),e._v(" "),s("markdown-editor",{model:{value:e.themes,callback:function(t){e.themes=t},expression:"themes"}}),e._v(" "),s("div",{staticClass:"testtype_select"},[s("p",[e._v("请选择考试类型:")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.testtype,function(e){return s("el-option",{key:e.exam_id,attrs:{label:e.exam_name,value:e.exam_id}})}),1),e._v(" "),s("p",[e._v("请选择课程类型:")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.subjecttype,function(e){return s("el-option",{key:e.subject_id,attrs:{label:e.subject_text,value:e.subject_id}})}),1),e._v(" "),s("p",[e._v("请选择题目类型:")]),e._v(" "),s("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}},e._l(e.questionTypes,function(e){return s("el-option",{key:e.questions_type_id,attrs:{label:e.questions_type_text,value:e.questions_type_id}})}),1),e._v(" "),s("p",[e._v("答案信息")]),e._v(" "),s("markdown-editor",{model:{value:e.answer,callback:function(t){e.answer=t},expression:"answer"}}),e._v(" "),s("p",{staticClass:"class-btn-box"},[s("button",{staticClass:"class-btn",attrs:{type:"text"},on:{click:e.open}},[e._v("提交")])])],1)],1)])},n=[],a=s("3f47"),u=s("16d8"),o=s("52c1"),l={components:{MarkdownEditor:u["a"]},data:function(){return{title:"添加试题",value:"",value2:"",value3:"",queststem:"",themes:"",answer:"",testtype:[],subjecttype:[],questionTypes:[],detaildata:[],alllist:[]}},mounted:function(){this.gettesttype()},methods:Object(a["a"])({},Object(o["b"])({list:"questionManagement/examType",subject:"questionManagement/subject",getQuestionsType:"questionManagement/getQuestionsType",addquestions:"questionManagement/addquestions",alldata:"questionManagement/condition",updates:"questionManagement/update"}),{gettesttype:function(){var e=this;this.list().then(function(t){1===t.code&&(e.testtype=t.data)}),this.subject().then(function(t){1===t.code&&(e.subjecttype=t.data)}),this.getQuestionsType().then(function(t){1===t.code&&(e.questionTypes=t.data)}),this.alldata().then(function(t){if(1===t.code&&(e.alllist=t.data,e.$route.query.id)){var s=e.alllist.filter(function(t){return t.questions_id===e.$route.query.id})[0];console.log(s.questions_stem,"lalalallal"),e.queststem=s.title,e.answer=s.questions_answer,e.themes=s.questions_stem,e.value=s.exam_name,e.value2=s.subject_text,e.value3=s.questions_type_text,e.title="编辑试题"}})},open:function(){var e=this;""!==this.queststem&&""!==this.answer&&""!==this.theme&&""!==this.value&&""!==this.value2&&""!==this.value3&&void 0===this.$route.query.id?this.$confirm("真的要添加吗?","你确定要添加这道试题吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.addquestions({questions_type_id:e.value3,questions_stem:e.queststem,subject_id:e.value2,exam_id:e.value,user_id:"w6l6n-cbvl6s",questions_answer:e.answer,title:e.queststem}).then(function(t){1===t.code&&(e.$message({type:"success",message:"添加成功!"}),e.value="",e.value2="",e.value3="",e.queststem="",e.themes="",e.answer="")})}).catch(function(){e.$message({type:"info",message:"已取消添加"})}):this.$route.query.id&&""!==this.queststem&&""!==this.answer&&""!==this.theme&&""!==this.value&&""!==this.value2&&""!==this.value3&&this.$confirm("真的要更改吗?","你确定要更改这道试题吗？",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.updates({questions_id:e.$route.query.id,questions_type_id:e.value3,questions_stem:e.queststem,subject_id:e.value2,exam_id:e.value,questions_answer:e.answer,title:"编辑试题"}),e.$message({type:"success",message:"更改成功!"})}).catch(function(){e.$message({type:"info",message:"已取消更改"})})}})},r=l,c=(s("deea"),s("17cc")),d=Object(c["a"])(r,i,n,!1,null,"577b8bf4",null);t["default"]=d.exports},ae0f:function(e,t,s){},deea:function(e,t,s){"use strict";var i=s("ae0f"),n=s.n(i);n.a}}]);